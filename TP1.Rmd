---
title: "TP1"
author: "GroupeB"
date: "`r Sys.Date()`"
output: html_document
---

## Méthodologie : 

1. A propos des donnees

  1.1 importation et source des données (À propos de l'auteur) ;
  
  1.1 Description des variables ;
  
  1.2 calcul des statistiques 
  
  1.3 gestion des valeurs manquantes ;
  
  
2. Visualisations : 

 
  2.1 Les histogrammes pour les variables catégorielles ;
  
  2.2 Les diagrammes en boites pour les variables numériques ;
  
  2.3 gestion des valeurs abérantes ;
  
  
3. Regression logistique


  

```{r library, include=FALSE}
library("tidyverse")
library("dplyr")
```


On charge les fichiers necessaires

```{r importation-outliers}
source("outliers.R")
#file.exists("outliers.R")
```

```{r plot_distribution}
source("plot_distribution.R")
#file.exists("plot_distribution.R")
```




#```{r importation-du-dataset}
#df<- read.csv("../data/GUIDE_Train.csv")
#head(df)
#View(df)
#```
Afin de faciliter notre manipulation des données nous avons réécrit la base de donnée, cette fois en selectionnant
uniquement les 25000 premieres lignes. (Le code est commanté expressement, pour ne pas etre réexécuté)


#```{r ecriture-de-la-base-donnee}
#library(readr)
#df_subset <- df[1:25000, ]
#write_csv(df_subset, "data_subset.csv")
#```


```{r importation-du-dataset-de travail}
df<- read.csv("data_subset.csv")
head(df)
#View(df)
```




```{r les-variables}
colnames(df)
```

Le jeu de donnees a **`r ncol(df)`** variables et **`r nrow(df)`**

```{r types-des-variables}
glimpse(df)
View(df)
```
```{r statistiques}
summary(df)
```


```{r recherche valeurs manquantes}
#recherche de valeur manquante
colSums(is.na(df))

#traitement des valeurs manquantes dans la colonne EmailClusterId
#nombre de valeurs manquantes dans la colonne
nb_valeurs_manquant_EmailClusterId = sum(is.na(df[,"EmailClusterId"]))
ratio = nb_valeurs_manquant_EmailClusterId/nrow(df)
ratio
df_clean = df[,colSums(is.na(df))==0]

```
On a `r ratio` valeur manquantes dans la colonne EmailClusterId. Nous décidons donc de la supprimer.

### Visualisation:
```{r visualisation}
#Les histogrammes de variables quantitatives 
#Les organisations enregistrés 
hist(df$OrgId, breaks=15,col="red", main="Histogramme des organisations",
     xlab="Les organisations"
     )

#Les incidents et les alertes 
par(mfrow=c(2,2))

hist(df$IncidentId, breaks=15,col="red",main="Histogramme des incidents", 
     xlab="Les incidents"
     )

hist(df$AlertId,breaks=15,col="red",main="Histogramme des alertes",
     xlab="Les alertes"
     )
#Les boxplots 

```
